<!DOCTYPE html>
<html>
<head>
<title>Nurbs viewer</title>

	<script src="libs/Three.js"></script>
	<script src="libs/jquery-1.6.4.js"></script>
        <script src="libs/jquery.mousewheel.js"></script>
	<script src="libs/RequestAnimationFrame.js"></script>
	<script src="sim/sim.js"></script>
        
        <div>
            .txt z nurbsem
            <input type="file" id="fileInput">
        </div>
        <script src="triangle.js"></script>
        <script src="point.js"></script>
        <script src="filereader.js"></script>
        <script src="cptosp.js"></script>
        <script src="projector.js"></script>

	<script>
	window.onload = function()
        {
            var fileInput = document.getElementById("fileInput");
            fileInput.addEventListener('change', function(e){
                extractFile(fileInput.files[0], function(e){
                    // process nurbs.txt
                    uploadedFile = e.target.result;
                    
                    // array of points
                    // discretizationPointsCount na sztywno = 20;
                    var spts = ControlPointsToSurfacePoints(fileDataToControlPoints(uploadedFile), 20);

                    // visualize
                    var container = document.getElementById("container");
                    var app = new Viewer();
                    app.init({ container: container });
                    
                    // !
                    //app.spheresFromSurfacePoints(spts);
                    app.trianglesToScreen(spts);
                    // app.addContour();
                    app.run();
                });
            });                
        }
	</script>

</head>
<body>
    <div id="container" style="width:98%; height:98%; overflow:hidden; position:absolute; background-color:#000000"></div>

</body>
</html>
